spring.application.name=video-service
server.port=${SERVER_PORT:8086}

# --- Banco ---
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false

# --- Bunny Stream (gerenciado) ---
bunny.stream.library-id=479707
bunny.stream.api-key=${BUNNY_STREAM_API_KEY}
bunny.stream.cdn-host=vz-c05b38f9-149.b-cdn.net

# (opcional) rate-limit simples
app.rate-limit.limit=300
app.rate-limit.window-millis=10000
app.rate-limit.include[0]=/api/videos
app.rate-limit.exclude[0]=/health

# Aceitar uploads grandes (ajuste ao seu caso)
spring.servlet.multipart.max-file-size=512MB
spring.servlet.multipart.max-request-size=512MB

# Tomcat: não engasgar em bodies grandes
server.tomcat.max-swallow-size=-1
server.tomcat.max-http-form-post-size=-1

# Timeout de request razoável
server.connection-timeout=60s

logging.level.org.springframework.web=DEBUG
logging.level.org.apache.coyote.http11=DEBUG
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b %D
